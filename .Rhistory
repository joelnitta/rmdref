library(usethis)
use_mit_license()
library(devtools)
check()
usethis::edit_r_profile(scope = "project")
check()
use_pipe()
use_package(c("readr", "stringr", "tibble"))
use_package("readr")
use_package("stringr")
use_package("tibble")
library(rmarkdown)
?rmarkdown::render()
tempfile <- tempfile()
tempfile
tempfile <- tempfile(ext = ".Rmd")
?tempfile
tempfile <- tempfile(fileext = ".Rmd")
tempfile
lines <- c(
"---",
"title: 'Report'",
"output_format: html_document",
"---",
"This statement is supported by @Nitta2021",
"[@Foo1983; @Blah2001; but see @Smith 2020]."
)
write(lines, tempfile)
extract_citations <- function(rmd_file) {
readr::read_lines(rmd_file) %>%
stringr::str_split(" |;") %>%
unlist %>%
magrittr::extract(., stringr::str_detect(., "@")) %>%
stringr::str_remove_all("^[^@]*") %>%
stringr::str_remove_all('\\[|\\]|\\)|\\(|\\.$|,|\\{|\\}|\\\\|\\"') %>%
magrittr::extract(., stringr::str_detect(., "^@|^-@")) %>%
stringr::str_remove_all("^@|^-@") %>%
unique %>%
sort %>%
tibble::tibble(key = .)
}
extract_citations(tempfile)
library(magrittr)
extract_citations(tempfile)
load_all()
tempfile <- tempfile(fileext = ".Rmd")
lines <- c(
"---",
"title: 'Report'",
"output_format: html_document",
"---",
"This statement is supported by @Nitta2021",
"[@Foo1983; @Blah2001; but see @Smith2020]."
)
write(lines, tempfile)
extract_citations(tempfile)
file.remove(tempfile)
load_all()
?`%>%`
usethis::use_pipe()
load_all()
tempfile <- tempfile(fileext = ".Rmd")
lines <- c(
"---",
"title: 'Report'",
"output_format: html_document",
"---",
"This statement is supported by @Nitta2021",
"[@Foo1983; @Blah2001; but see @Smith2020]."
)
write(lines, tempfile)
extract_citations(tempfile)
file.remove(tempfile)
document()
load_all()
tempfile <- tempfile(fileext = ".Rmd")
lines <- c(
"---",
"title: 'Report'",
"output_format: html_document",
"---",
"This statement is supported by @Nitta2021",
"[@Foo1983; @Blah2001; but see @Smith2020]."
)
write(lines, tempfile)
extract_citations(tempfile)
file.remove(tempfile)
?extract_citations
check()
document()
load_all
load_all()
document()
roxyglobals::use_roxyglobals()
document()
load_all()
check()
use_package("purrr")
use_package("yaml")
use_package("dplyr")
use_package("glue")
document()
?filter_refs_yaml
check()
use_readme_rmd()
build_readme()
load_all()
document()
check()
